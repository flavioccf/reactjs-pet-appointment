(this["webpackJsonpreactjs-pet-appointment"]=this["webpackJsonpreactjs-pet-appointment"]||[]).push([[0],{178:function(e,t,n){},277:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(40),s=n.n(r),i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,294)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},o=(n(178),n(53)),j=n(58),l=n(282),u=n(131),p=n(288),b=n(290),m=n(72),d=n(291),O=n(292),h=n(171),x=n(293),f=n(29),g=n(96),v=n(89),y=n(289),w=n(73),N=n(286),A=n(285),D=n(283),S=n(75),T=n(45),F=n(287),I=n(130),_=n(280),C=n(59),H=(n(179),n(42)),k=n.n(H),E=n(37),Y=n.n(E),P=n(54),M=n(151),L=n(152),R=n(115),q=n.n(R);n(197).config();var B=Object({NODE_ENV:"production",PUBLIC_URL:"/reactjs-pet-appointment",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_URL,K=function(){function e(){Object(M.a)(this,e)}return Object(L.a)(e,[{key:"getAppointmentList",value:function(){var e=Object(P.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get(B+"?_sort=aptDate&_order=desc").then(function(){var e=Object(P.a)(Y.a.mark((function e(t){var n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data;case 2:return n=e.sent,a=n.map((function(e,t){return e})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw new Error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteAppointment",value:function(){var e=Object(P.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.delete(B+"/".concat(t)).then(function(){var e=Object(P.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw new Error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createAppointment",value:function(){var e=Object(P.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.post(B,t).then(function(){var e=Object(P.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw new Error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),W=n(5);var U=function(){var e=Object(a.useState)(w.DateTime.now().toISODate()),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(w.DateTime.now().toFormat("HH:mm")),s=Object(o.a)(r,2),i=s[0],j=s[1],l={id:Object(y.a)(),petName:"",ownerName:"",aptDate:"".concat(n," ").concat(i),aptNotes:""},u=function(){setTimeout((function(){return f(null)}),5e3)},p=Object(a.useState)(l),b=Object(o.a)(p,2),m=b[0],d=b[1],O=Object(a.useState)(),h=Object(o.a)(O,2),x=h[0],f=h[1],H={padding:"0.5rem"},E=function(e){var t=e.target.name,n=e.target.value;d((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(g.a)({},t,n))}))};return Object(a.useEffect)((function(){d((function(e){return Object(v.a)(Object(v.a)({},e),{},{aptDate:"".concat(n," ").concat(i)})}))}),[n,i]),Object(W.jsxs)(W.Fragment,{children:[x,Object(W.jsx)(A.a,{className:"site-page-header",title:"Add Appointment"}),Object(W.jsxs)(D.a,{layout:"vertical",name:"basic",initialValues:{aptDate:k()(n,"YYYY-MM-DD"),aptTime:k()(i,"HH:mm")},onFinish:function(e){console.log("Success:",m),(new K).createAppointment(m).then((function(e){console.log(e),201===e.status&&(f(Object(W.jsx)(N.a,{message:"Appointment Created!",type:"success",banner:!0,showIcon:!0,closable:!0})),u())}))},onFinishFailed:function(e){console.log("Failed:",e),f(Object(W.jsx)(N.a,{message:"Fill all necessary fields",type:"error",banner:!0,showIcon:!0,closable:!0})),u()},children:[Object(W.jsxs)(S.a,{children:[Object(W.jsx)(T.a,{style:H,flex:2,children:Object(W.jsx)(D.a.Item,{label:"Pet Name",name:"petName",rules:[{required:!0,message:"Please input your pet name!"}],children:Object(W.jsx)(F.a,{name:"petName",onChange:function(e){return E(e)}})})}),Object(W.jsx)(T.a,{style:H,flex:2,children:Object(W.jsx)(D.a.Item,{label:"Owner Name",name:"ownerName",rules:[{required:!0,message:"Please input the owner name!"}],children:Object(W.jsx)(F.a,{name:"ownerName",onChange:function(e){return E(e)}})})}),Object(W.jsx)(T.a,{style:H,span:24,children:Object(W.jsx)(D.a.Item,{label:"Additional Notes",name:"aptNotes",children:Object(W.jsx)(F.a.TextArea,{name:"aptNotes",onChange:function(e){return E(e)}})})})]}),Object(W.jsxs)(S.a,{children:[Object(W.jsx)(T.a,{style:H,children:Object(W.jsx)(D.a.Item,{label:"Appointment Date",name:"aptDate",rules:[{required:!0,message:"Please select a date!"}],children:Object(W.jsx)(I.a,{name:"aptDate",value:k()(n,"YYYY-MM-DD"),format:"YYYY-MM-DD",onChange:function(e){c(e?e.format("YYYY-MM-DD"):n)}})})}),Object(W.jsx)(T.a,{style:H,children:Object(W.jsx)(D.a.Item,{label:"Appointment Time",name:"aptTime",rules:[{required:!0,message:"Please select the time!"}],children:Object(W.jsx)(_.a,{name:"aptTime",value:k()(i,"HH:mm"),format:"HH:mm",onChange:function(e){j(e?e.format("HH:mm"):i)}})})}),Object(W.jsx)(T.a,{style:H,span:24,children:Object(W.jsx)(D.a.Item,{children:Object(W.jsx)(C.a,{type:"primary",htmlType:"submit",children:"Submit"})})})]})]})]})};var J=function(){return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(A.a,{className:"site-page-header",title:"Home Page"})})},V=n(281),z=n(166),G=n(116),Q=n(284),X=new K,Z=function(e){var t=e.apt,n=e.setAppointments,a=e.myAppointments,c=w.DateTime.fromFormat(t.aptDate,"yyyy-MM-dd hh:mm");return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Q.a,{type:"inner",title:"Inner Card title",extra:Object(W.jsx)("a",{href:"#",children:"More"}),children:"Inner Card content"}),Object(W.jsx)("div",{className:"box",children:Object(W.jsxs)("div",{className:"columns is-vcentered",children:[Object(W.jsx)("div",{className:"column is-three-quarters",children:Object(W.jsxs)("ul",{children:[Object(W.jsxs)("li",{children:[Object(W.jsxs)("h3",{className:"title is-3",children:[Object(W.jsx)(G.b,{})," ",t.petName]}),Object(W.jsx)("hr",{})]}),Object(W.jsxs)("li",{children:[Object(W.jsx)(G.c,{})," Owner: ",t.ownerName]}),Object(W.jsxs)("li",{children:[Object(W.jsx)(G.a,{})," Date:"," ",c.toLocaleString(w.DateTime.DATETIME_SHORT)]})]})}),Object(W.jsx)("div",{className:"column",children:Object(W.jsx)("button",{className:"button is-danger is-light is-medium is-pulled-right",onClick:function(){return X.deleteAppointment(t.id).then(n(a.filter((function(e){return e.id!==t.id}))))},children:Object(W.jsx)("span",{className:"icon",children:Object(W.jsx)(z.a,{})})})})]})})]})},$=n(88);var ee=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(W.jsx)($.a,{style:{fontSize:24},spin:!0});return Object(a.useEffect)((function(){var e=new K;function t(){return(t=Object(P.a)(Y.a.mark((function t(){var n;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppointmentList();case 2:n=t.sent,c(n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(A.a,{className:"site-page-header",title:"List Appointments"}),0===n.length&&Object(W.jsx)(V.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},indicator:r}),n.map((function(e,t){return Object(W.jsx)(Z,{apt:e,setAppointments:c,myAppointments:n},t+e.petName)}))]})};function te(){var e=Object(f.f)();return Object(W.jsx)("div",{children:Object(W.jsxs)("h3",{className:"title",children:["No match for ",Object(W.jsx)("code",{children:e.pathname})]})})}var ne=function(){return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(A.a,{className:"site-page-header",title:"Search Appointment"})})};var ae=function(){return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(f.c,{children:[Object(W.jsx)(f.a,{exact:!0,path:"/",children:Object(W.jsx)(J,{})}),Object(W.jsx)(f.a,{path:"/add_appointment",children:Object(W.jsx)(U,{})}),Object(W.jsx)(f.a,{path:"/search_appointment",children:Object(W.jsx)(ne,{})}),Object(W.jsx)(f.a,{path:"/list_appointment",children:Object(W.jsx)(ee,{})}),Object(W.jsx)(f.a,{path:"*",children:Object(W.jsx)(te,{})})]})})},ce=l.a.Header,re=l.a.Sider,se=l.a.Content;var ie=function(){var e=Object(a.useState)(Object(W.jsx)(b.a,{})),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(j.a,{children:Object(W.jsxs)(l.a,{children:[Object(W.jsxs)(re,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t),c(e?Object(W.jsx)(b.a,{}):Object(W.jsx)(m.a,{}))},trigger:n,children:[Object(W.jsx)("div",{className:"logo"}),Object(W.jsxs)(u.a,{theme:"light",mode:"inline",defaultSelectedKeys:["0"],children:[Object(W.jsx)(u.a.Item,{icon:Object(W.jsx)(d.a,{}),children:Object(W.jsx)(j.b,{to:"/",children:"Home"})},"0"),Object(W.jsx)(u.a.Item,{icon:Object(W.jsx)(O.a,{}),children:Object(W.jsx)(j.b,{to:"/add_appointment",children:"Add Appointments"})},"1"),Object(W.jsx)(u.a.Item,{icon:Object(W.jsx)(h.a,{}),children:Object(W.jsx)(j.b,{to:"/search_appointment",children:"Search Appointments"})},"2"),Object(W.jsx)(u.a.Item,{icon:Object(W.jsx)(x.a,{}),children:Object(W.jsx)(j.b,{to:"/list_appointment",children:"List Appointments"})},"3")]})]}),Object(W.jsxs)(l.a,{className:"site-layout",children:[Object(W.jsx)(ce,{className:"site-layout-background",style:{padding:0},children:"Pet Appointment"}),Object(W.jsx)(se,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280},children:Object(W.jsx)(ae,{})})]})]})}),Object(W.jsx)(p.a,{})]})};var oe=function(){return Object(W.jsx)(ie,{})};s.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(oe,{})}),document.getElementById("root")),i()}},[[277,1,2]]]);
//# sourceMappingURL=main.90105a5d.chunk.js.map